{"version":3,"sources":["components/Login.js","App.js","index.js"],"names":["Login","useState","username","password","credentials","setCredentials","eyeToggle","setEyeToggle","handleChange","e","tagName","target","id","value","submitForm","a","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","uid","blocked","res","status","alert","json","data","localStorage","clear","setItem","jwt","jwt_decode","role","user_id","basic_info","className","onSubmit","htmlFor","type","onChange","placeholder","title","required","onClick","pwd","document","getElementById","href","App","ReactDOM","render","StrictMode"],"mappings":"gRAmGeA,EA7FD,WAAO,IAAD,EACoBC,mBAAS,CAC7CC,SAAU,GACVC,SAAU,KAHM,mBACXC,EADW,KACEC,EADF,OAMgBJ,oBAAS,GANzB,mBAMXK,EANW,KAMAC,EANA,KAQZC,EAAe,SAACC,GACpB,IAAIC,EAAUD,EAAEE,OAAOC,GACnBC,EAAQJ,EAAEE,OAAOE,MACrBR,EAAe,2BAAKD,GAAN,kBAAoBM,EAAUG,MAaxCC,EAAU,uCAAG,WAAOL,GAAP,iBAAAM,EAAA,6DACjBN,EAAEO,iBACFC,QAAQC,IAAId,GAFK,SAGCe,MAAM,+CAAgD,CACtEC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,IAAKrB,EAAYF,SACjBC,SAAUC,EAAYD,SACtBuB,QAAS,MAXI,UAcE,OAXbC,EAHW,QAcTC,OAdS,uBAefC,MAAM,uBAfS,2CAkBEF,EAAIG,OAlBN,QAkBXC,EAlBW,OAmBjBd,QAAQC,IAAIa,GACZC,aAAaC,QACbD,aAAaE,QAAQ,MAAOH,EAAKI,KACjCH,aAAaE,QAAQ,WAAYX,KAAKC,UAAUY,YAAWL,EAAKI,OAChEH,aAAaE,QAAQ,OAAQH,EAAKM,MAClCL,aAAaE,QAAQ,UAAWH,EAAKO,SACrCN,aAAaE,QAAQ,aAAcX,KAAKC,UAAUO,EAAKQ,aACvDlC,EAAe,CAAEH,SAAU,GAAIC,SAAU,KACzC0B,MAAM,qBA3BW,4CAAH,sDA8BhB,OACE,sBAAKW,UAAU,kBAAf,UACE,oBAAIA,UAAU,QAAd,sBACA,mBAAGA,UAAU,UAAb,2BACA,uBAAMA,UAAU,aAAaC,SAAU3B,EAAvC,UACE,uBAAO0B,UAAU,iBAAiBE,QAAQ,WAA1C,sBAGA,uBACEC,KAAK,OACL/B,GAAG,WACHC,MAAOT,EAAYF,SACnB0C,SAAUpC,EACVqC,YAAY,oBACZC,MAAM,iBACNC,UAAQ,IAEV,uBAAOP,UAAU,iBAAiBE,QAAQ,WAA1C,sBAGA,uBACEC,KAAK,WACL/B,GAAG,WACHC,MAAOT,EAAYD,SACnByC,SAAUpC,EACVqC,YAAY,oBACZC,MAAM,iBACNC,UAAQ,IAEV,sBAAMC,QArEM,WAChB,IAAIC,EAAMC,SAASC,eAAe,YAEhCF,EAAIN,KADFrC,EACS,WAEA,OAEbC,GAAcD,IA8DgBkC,UAAU,MAApC,SACGlC,EAAY,cAAC,IAAD,IAAa,cAAC,IAAD,MAE5B,mBAAG8C,KAAK,KAAR,8BACA,wBAAQT,KAAK,SAAb,0BCrFOU,EANH,WACV,OACE,cAAC,EAAD,KCCJC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFN,SAASC,eAAe,W","file":"static/js/main.3fcbecbb.chunk.js","sourcesContent":["import \"./css/Login.css\";\r\nimport { useState } from \"react\";\r\nimport { BiShow } from \"react-icons/bi\";\r\nimport { BiHide } from \"react-icons/bi\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst Login = () => {\r\n  const [credentials, setCredentials] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [eyeToggle, setEyeToggle] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    let tagName = e.target.id;\r\n    let value = e.target.value;\r\n    setCredentials({ ...credentials, [tagName]: value });\r\n  };\r\n\r\n  const handleEye = () => {\r\n    let pwd = document.getElementById(\"password\");\r\n    if (eyeToggle) {\r\n      pwd.type = \"password\";\r\n    } else {\r\n      pwd.type = \"text\";\r\n    }\r\n    setEyeToggle(!eyeToggle);\r\n  };\r\n\r\n  const submitForm = async (e) => {\r\n    e.preventDefault();\r\n    console.log(credentials);\r\n    const res = await fetch(\"https://myphysio.digitaldarwin.in/api/login/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        uid: credentials.username,\r\n        password: credentials.password,\r\n        blocked: 0,\r\n      }),\r\n    });\r\n    if (res.status !== 200) {\r\n      alert(\"Invalid credentials\");\r\n      return;\r\n    }\r\n    const data = await res.json();\r\n    console.log(data);\r\n    localStorage.clear();\r\n    localStorage.setItem(\"jwt\", data.jwt);\r\n    localStorage.setItem(\"jwt_data\", JSON.stringify(jwt_decode(data.jwt)));\r\n    localStorage.setItem(\"role\", data.role);\r\n    localStorage.setItem(\"user_id\", data.user_id);\r\n    localStorage.setItem(\"basic_info\", JSON.stringify(data.basic_info));\r\n    setCredentials({ username: \"\", password: \"\" });\r\n    alert(\"Login Successful.\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <h1 className=\"title\">Physioai</h1>\r\n      <p className=\"welcome\">Welcome Back!</p>\r\n      <form className=\"login-form\" onSubmit={submitForm}>\r\n        <label className=\"required-label\" htmlFor=\"username\">\r\n          Username\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"username\"\r\n          value={credentials.username}\r\n          onChange={handleChange}\r\n          placeholder=\"Enter Username...\"\r\n          title=\"Enter Username\"\r\n          required\r\n        />\r\n        <label className=\"required-label\" htmlFor=\"password\">\r\n          Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          value={credentials.password}\r\n          onChange={handleChange}\r\n          placeholder=\"Enter Password...\"\r\n          title=\"Enter Password\"\r\n          required\r\n        />\r\n        <span onClick={handleEye} className=\"eye\">\r\n          {eyeToggle ? <BiShow /> : <BiHide />}\r\n        </span>\r\n        <a href=\"/#\">Forgot Password?</a>\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import Login from './components/Login';\n\nconst App = () => {\n  return (\n    <Login/>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}