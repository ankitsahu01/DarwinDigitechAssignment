{"version":3,"sources":["store/authSlice.js","components/Login.js","components/Dashboard.js","App.js","store/store.js","index.js"],"names":["authSlice","createSlice","name","initialState","user_id","role","basic_info","jwt","status","reducers","login","state","action","payload","logout","actions","Login","dispatch","useDispatch","useState","username","password","credentials","setCredentials","eyeToggle","setEyeToggle","handleChange","e","tagName","target","id","value","submitForm","a","preventDefault","fetch","method","headers","body","JSON","stringify","uid","blocked","res","alert","json","data","localStorage","clear","setItem","jwt_decode","className","onSubmit","htmlFor","type","onChange","placeholder","title","required","onClick","pwd","document","getElementById","href","Dashboard","auth","useSelector","store","authReducer","first_name","last_name","mobile_no","whatsapp_no","style","marginTop","App","useEffect","getItem","parse","configureStore","reducer","ReactDOM","render","StrictMode"],"mappings":"yRAUaA,EAAYC,YAAY,CACnCC,KAAM,OACNC,aAVwB,CACxBC,QAAS,KACTC,KAAM,KACNC,WAAY,KACZC,IAAK,KACLC,QAAQ,GAMRC,SAAU,CACRC,MAAO,SAACC,EAAOC,GACb,OAAeA,EAAOC,SAExBC,OAAQ,SAACH,GACL,MAAe,CAAEP,QAAS,KAAMC,KAAM,KAAMC,WAAY,KAAMC,IAAK,KAAMC,QAAQ,O,EAKxDR,EAAUe,QAA5BL,E,EAAAA,MAAOI,E,EAAAA,OACPd,IAAf,Q,OCgFegB,EAhGD,WACZ,IAAMC,EAAWC,cADC,EAGoBC,mBAAS,CAC7CC,SAAU,GACVC,SAAU,KALM,mBAGXC,EAHW,KAGEC,EAHF,OAQgBJ,oBAAS,GARzB,mBAQXK,EARW,KAQAC,EARA,KAUZC,EAAe,SAACC,GACpB,IAAIC,EAAUD,EAAEE,OAAOC,GACnBC,EAAQJ,EAAEE,OAAOE,MACrBR,EAAe,2BAAKD,GAAN,kBAAoBM,EAAUG,MAaxCC,EAAU,uCAAG,WAAOL,GAAP,iBAAAM,EAAA,6DACjBN,EAAEO,iBADe,SAGCC,MAAM,+CAAgD,CACtEC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,IAAKnB,EAAYF,SACjBC,SAAUC,EAAYD,SACtBqB,QAAS,MAXI,UAcE,OAXbC,EAHW,QAcTnC,OAdS,uBAefoC,MAAM,uBAfS,0CAkBED,EAAIE,OAlBN,OAkBXC,EAlBW,OAoBjBC,aAAaC,QACbD,aAAaE,QAAQ,MAAOH,EAAKvC,KACjCwC,aAAaE,QAAQ,WAAYV,KAAKC,UAAUU,YAAWJ,EAAKvC,OAChEwC,aAAaE,QAAQ,OAAQH,EAAKzC,MAClC0C,aAAaE,QAAQ,UAAWH,EAAK1C,SACrC2C,aAAaE,QAAQ,aAAcV,KAAKC,UAAUM,EAAKxC,aACvDiB,EAAe,CAAEH,SAAU,GAAIC,SAAU,KACzCJ,EAASP,EAAM,2BAAIoC,GAAL,IAAWtC,QAAO,MA3Bf,4CAAH,sDA+BhB,OACE,sBAAK2C,UAAU,YAAf,UACE,oBAAIA,UAAU,QAAd,sBACA,mBAAGA,UAAU,UAAb,2BACA,uBAAMA,UAAU,aAAaC,SAAUpB,EAAvC,UACE,uBAAOmB,UAAU,iBAAiBE,QAAQ,WAA1C,sBAGA,uBACEC,KAAK,OACLxB,GAAG,WACHC,MAAOT,EAAYF,SACnBmC,SAAU7B,EACV8B,YAAY,oBACZC,MAAM,iBACNC,UAAQ,IAEV,uBAAOP,UAAU,iBAAiBE,QAAQ,WAA1C,sBAGA,uBACEC,KAAK,WACLxB,GAAG,WACHC,MAAOT,EAAYD,SACnBkC,SAAU7B,EACV8B,YAAY,oBACZC,MAAM,iBACNC,UAAQ,IAEV,sBAAMC,QAtEM,WAChB,IAAIC,EAAMC,SAASC,eAAe,YAEhCF,EAAIN,KADF9B,EACS,WAEA,OAEbC,GAAcD,IA+DgB2B,UAAU,MAApC,SACG3B,EAAY,cAAC,IAAD,IAAa,cAAC,IAAD,MAE5B,mBAAGuC,KAAK,KAAR,8BACA,wBAAQT,KAAK,SAAb,0BCvEOU,EAxBG,WAChB,IAAMC,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMC,eACpCnD,EAAWC,cAFK,EAGoC+C,EAAK3D,WAAvD+D,EAHc,EAGdA,WAAYC,EAHE,EAGFA,UAAWC,EAHT,EAGSA,UAAWC,EAHpB,EAGoBA,YAK1C,OACE,mCACE,sBAAKrB,UAAU,YAAf,UACE,oBAAIA,UAAU,QAAd,sBACA,oBAAGA,UAAU,UAAb,+BAAmCkB,EAAnC,YAAiDC,GAAjD,OACA,4CAAeL,EAAK5D,QACpB,8CAAiBkE,KACjB,gDAAmBC,KACnB,wBAAQb,QAZC,WACbZ,aAAaC,QACb/B,EAASH,MAUoB2D,MAAO,CAAEC,UAAW,QAA7C,0BCFOC,EAXH,WACV,IAAMV,EAAOC,aAAY,SAACC,GAAD,OAASA,EAAMC,eAClCnD,EAAWC,cAMjB,OALA0D,qBAAU,WACwB,IAAD,EAA5B7B,aAAa8B,QAAQ,QACtB5D,EAASP,EAAM,2BAAIqC,cAAL,uBAAmB,aAAcR,KAAKuC,MAAM/B,aAAa8B,QAAQ,gBAAjE,wBAAyF,GAAzF,QAEhB,CAACZ,EAAKzD,SACD,mCAAGyD,EAAKzD,OAAS,cAAC,EAAD,IAAgB,cAAC,EAAD,OCX7B2D,EAAQY,YAAe,CAChCC,QAAS,CAACZ,iBCGda,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUhB,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJN,SAASC,eAAe,W","file":"static/js/main.bd16b94c.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialStateValue = {\r\n  user_id: null,\r\n  role: null,\r\n  basic_info: null,\r\n  jwt: null,\r\n  status: false,\r\n};\r\n\r\nexport const authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: initialStateValue,\r\n  reducers: {\r\n    login: (state, action) => {\r\n      return state = action.payload;\r\n    },\r\n    logout: (state) => {\r\n        return state = { user_id: null, role: null, basic_info: null, jwt: null, status: false, };\r\n    },\r\n  },\r\n});\r\n\r\nexport const { login, logout } = authSlice.actions;\r\nexport default authSlice.reducer;","import \"./css/Login.css\";\r\nimport { useState } from \"react\";\r\nimport { BiShow } from \"react-icons/bi\";\r\nimport { BiHide } from \"react-icons/bi\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { login } from '../store/authSlice';\r\n\r\nconst Login = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [credentials, setCredentials] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [eyeToggle, setEyeToggle] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    let tagName = e.target.id;\r\n    let value = e.target.value;\r\n    setCredentials({ ...credentials, [tagName]: value });\r\n  };\r\n\r\n  const handleEye = () => {\r\n    let pwd = document.getElementById(\"password\");\r\n    if (eyeToggle) {\r\n      pwd.type = \"password\";\r\n    } else {\r\n      pwd.type = \"text\";\r\n    }\r\n    setEyeToggle(!eyeToggle);\r\n  };\r\n\r\n  const submitForm = async (e) => {\r\n    e.preventDefault();\r\n    // console.log(credentials);\r\n    const res = await fetch(\"https://myphysio.digitaldarwin.in/api/login/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        uid: credentials.username,\r\n        password: credentials.password,\r\n        blocked: 0,\r\n      }),\r\n    });\r\n    if (res.status !== 200) {\r\n      alert(\"Invalid credentials\");\r\n      return;\r\n    }\r\n    const data = await res.json();\r\n    // console.log(data);\r\n    localStorage.clear();\r\n    localStorage.setItem(\"jwt\", data.jwt);\r\n    localStorage.setItem(\"jwt_data\", JSON.stringify(jwt_decode(data.jwt)));\r\n    localStorage.setItem(\"role\", data.role);\r\n    localStorage.setItem(\"user_id\", data.user_id);\r\n    localStorage.setItem(\"basic_info\", JSON.stringify(data.basic_info));\r\n    setCredentials({ username: \"\", password: \"\" });\r\n    dispatch(login({...data, status:true}));\r\n    // alert(\"Login Successful.\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"title\">Physioai</h1>\r\n      <p className=\"welcome\">Welcome Back!</p>\r\n      <form className=\"login-form\" onSubmit={submitForm}>\r\n        <label className=\"required-label\" htmlFor=\"username\">\r\n          Username\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"username\"\r\n          value={credentials.username}\r\n          onChange={handleChange}\r\n          placeholder=\"Enter Username...\"\r\n          title=\"Enter Username\"\r\n          required\r\n        />\r\n        <label className=\"required-label\" htmlFor=\"password\">\r\n          Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          value={credentials.password}\r\n          onChange={handleChange}\r\n          placeholder=\"Enter Password...\"\r\n          title=\"Enter Password\"\r\n          required\r\n        />\r\n        <span onClick={handleEye} className=\"eye\">\r\n          {eyeToggle ? <BiShow /> : <BiHide />}\r\n        </span>\r\n        <a href=\"/#\">Forgot Password?</a>\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { logout } from \"../store/authSlice\";\r\n\r\nconst Dashboard = () => {\r\n  const auth = useSelector((store) => store.authReducer);\r\n  const dispatch = useDispatch();\r\n  const { first_name, last_name, mobile_no, whatsapp_no } = auth.basic_info;\r\n  const Logout = () => {\r\n    localStorage.clear();\r\n    dispatch(logout());\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <h1 className=\"title\">Physioai</h1>\r\n        <p className=\"welcome\">Welcome {`${first_name} ${last_name}`}!</p>\r\n        <p>Your role: {auth.role}</p>\r\n        <p>Your Mobile: {mobile_no}</p>\r\n        <p>Your Whatsapp: {whatsapp_no}</p>\r\n        <button onClick={Logout} style={{ marginTop: \"30px\" }}>\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { useEffect } from \"react\";\nimport Login from \"./components/Login\";\nimport Dashboard from \"./components/Dashboard\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {login} from './store/authSlice';\n\nconst App = () => {\n  const auth = useSelector((store)=>store.authReducer);\n  const dispatch = useDispatch();\n  useEffect(()=>{\n    if(localStorage.getItem(\"jwt\")){\n      dispatch(login({...localStorage,['basic_info']:JSON.parse(localStorage.getItem('basic_info')), status: true}));\n    }\n  },[auth.status]);\n  return <>{auth.status ? <Dashboard /> : <Login />}</>;\n};\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport authReducer from './authSlice';\r\n\r\nexport const store = configureStore({\r\n    reducer: {authReducer},\r\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './store/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}